<!DOCTYPE html>

<script>
  // Start of Zillow & Google Buttons
  iDiv = document.createElement("div");
  iDiv.id = "mapLinks";
  iDiv.className = "mapContainerZG";
  iDiv.style.display = "block";

  // Create the inner div before appending to the body
  innerDiv = document.createElement("div");
  innerDiv.className = "mapLinksInner";

  // The variable iDiv is still good... Just append to it.
  iDiv.appendChild(innerDiv);
  // Then append the whole thing onto the body

  function newDiv() {
    var prospectTab = $("#prospect > div:nth-child(2)");
    var zzAddress = $("input[name= msgsndr4]").val();
    var zCity = $("input[name= city]").val();
    var zState = $("input[name= state]").val();
    var zZipCode = $("input[name= msgsndr7]").val();
    if (zzAddress.indexOf("#") >= 0) {
      zzAddress = zzAddress.replace("#", ".num.");
    }
    innerDiv.innerHTML = "<span class='zillowTitle'>Search:</span><a href='https://www.google.com/search?q=" + zzAddress + "," + zCity + "," + zState + "%20" + zZipCode + "' target='_blank'><img src='https://upload.wikimedia.org/wikipedia/commons/3/39/Google_Maps_icon_%282015-2020%29.svg' style='width: 23px;position: relative;top: 0px;left:3px' class='view-google-maps google-maps-link'></a><a href='https://www.zillow.com/homes/for_sale/" + zzAddress + "," + zCity + "," + zState + "%20" + zZipCode + "_rb' target='_blank' id='zillowLink'><img src='https://www.zillow.com/apple-touch-icon.png' style='width: 23px;border-radius: 3px;position: relative;top: 0px;left: 5px;' class='view-google-maps zillow-maps-link' title=''></a>";
    $(iDiv).prependTo(prospectTab);
  }

  $(document).on("click", "#general-info-tab", function (e) {
    var checkExist = setInterval(function () {
      if ($("input[name= msgsndr4]").length && $(iDiv).is(":hidden")) {
        newDiv();
        clearInterval(checkExist);
      }
    }, 100);
  });
</script>
<script>
  var phoneRows;
  console.log("window loaded... starting to hide phones");
  phoneRows = document.querySelectorAll(".hl_settings--phone-numbers table tbody tr");
  var phoneRowsTest = document.getElementsByTagName('td');
  console.log("phoneRowsTest = " + phoneRowsTest[0]);
  console.log("phoneRows[0] = " + phoneRows[0]);
  for (let i = 0; i < phoneRows.length; i++) {
    if (phoneRows[i].lastChild.children[0].localName === "button") {
      phoneRows[i].style.display = "none"
    }
  }
  console.log("now my phoneRows = " + phoneRows[0])
</script>
<script>
  var event = new Event('load');
  window.dispatchEvent(event);
</script>